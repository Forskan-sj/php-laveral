(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0598"],{FlHk:function(t,e,i){},LNG7:function(t,e,i){"use strict";var n=i("VFhN");i.n(n).a},TLC4:function(t,e,i){"use strict";var n=i("waou");i.n(n).a},Ufkb:function(t,e,i){"use strict";var n=i("ymdI");i.n(n).a},VFhN:function(t,e,i){},fx4B:function(t,e,i){"use strict";var n=i("FlHk");i.n(n).a},glbJ:function(t,e,i){"use strict";var n=i("gDS+"),s=i.n(n),a=i("UMyc"),o={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{ossKey:{},ossParams:{},ulParamsMark:!1,dialogVisible:!1,listObj:{},fileList:[],img_list:[],listLoading:!1}},mounted:function(){var t=this;this.listLoading=!0,Object(a.j)({type:"dev_test_dcaredata"}).then(function(e){t.ossParams=e.data.datas,t.ossKey=JSON.parse(s()(t.ossParams)),t.ulParamsMark=!0,t.listLoading=!1})},methods:{checkAllSuccess:function(){var t=this,e=!0,i=[];return this.listObj.forEach(function(n,s,a){"success"===n.status?i.push(t.ossParams.host+"/"+t.ossParams.key+"data"+n.uid+"."+n.name.split(".")[1]):(e=!1,i=[])}),this.img_list=i,!!e},handleSubmit:function(){this.checkAllSuccess()?(this.$emit("successCBK",this.img_list),this.listObj=[],this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！")},handleSuccess:function(t,e,i){this.$refs.upload.submit(),this.listObj=i},handleRemove:function(t,e){var i=this;this.listObj=[],e.forEach(function(t,e,n){i.listObj.push(i.ossparas.key+"data"+t.uid+"."+t.name.split(".")[1])})},beforeUpload:function(t){var e=this.ossParams.key+"data"+t.uid+"."+t.name.split(".")[1];this.ossKey.key=e}}},r=(i("Ufkb"),i("KHd+")),l=Object(r.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("上传图片\n  ")]),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[t.ulParamsMark?i("el-upload",{ref:"upload",staticClass:"editor-slide-upload",attrs:{multiple:!0,data:t.ossKey,"file-list":t.fileList,"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload,action:t.ossParams.host,"list-type":"picture-card"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1):t._e(),t._v(" "),i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],1)},[],!1,null,"55611ce8",null);l.options.__file="editorImage.vue";var c=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],u=["searchreplace bold italic underline strikethrough alignleft aligncenter alignjustify alignright outdent indent  blockquote undo redo subscript superscript code codesample","hr bullist numlist link image charmap preview insertdatetime font_formats fontsizeselect fontselect media table emoticons forecolor backcolor fullscreen"],d={name:"Tinymce",components:{editorImage:l.exports},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(e.tinymceId).setContent(t||"")})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){var t=this,e=this;window.tinymce.init({language:this.languageTypeList.zh,selector:"#"+this.tinymceId,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:u,toolbar_drawer:"floating",menubar:this.menubar,fontsize_formats:"11px 12px 14px 16px 18px 24px 36px 48px",font_formats:"Arial=arial,helvetica,sans-serif; Courier New=courier new,courier,monospace; AkrutiKndPadmini=Akpdmi-n",plugins:c,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(i){e.value&&i.setContent(e.value),e.hasInit=!0,i.on("NodeChange Change KeyUp SetContent",function(){t.hasChange=!0,t.$emit("input",i.getContent())})},setup:function(t){t.on("FullscreenStateChanged",function(t){e.fullscreen=t.state})}})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach(function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'+t+'" >')})}}},m=(i("LNG7"),i("fx4B"),Object(r.a)(d,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:this.fullscreen}},[e("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}}),this._v(" "),e("div",{staticClass:"editor-custom-btn-container"},[e("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:this.imageSuccessCBK}})],1)])},[],!1,null,"5aea5b52",null));m.options.__file="index.vue";e.a=m.exports},u6sh:function(t,e,i){"use strict";i.r(e);var n=i("UMyc"),s={name:"ActiveInfo",components:{Tinymce:i("glbJ").a},data:function(){return{path:"lottery",listLoading:!1,cdn:"https://cdncollege.quansuwangluo.com/",contents:"",form:{title:"",author:"",rule:"",infos:""},formRules:{title:[{required:!0,message:"活动奖品",trigger:"blur"}],author:[{required:!0,message:"活动主办单位",trigger:"blur"}],rule:[{required:!0,message:"抽奖规则",trigger:"blur"}],infos:[{required:!0,message:"活动说明",trigger:"blur"}]}}},mounted:function(){this.getInfos()},methods:{getInfos:function(t){var e=this;this.listLoading=!0,Object(n.h)(this.path,{id:t}).then(function(t){e.contents=t.data.datas.contents,e.listLoading=!1})},onSubmit:function(){var t=this;if(!this.contents.length)return!1;this.listLoading=!0,Object(n.d)(this.path,{contents:this.contents}).then(function(e){t.$message(e.data.message),t.listLoading=!1})},onCancel:function(){this.$message({message:"cancel!",type:"warning"})}}},a=(i("TLC4"),i("KHd+")),o=Object(a.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.formRules,"label-width":"260px"}},[i("el-form-item",{attrs:{label:"活动说明:"}},[i("tinymce",{attrs:{height:300},model:{value:t.contents,callback:function(e){t.contents=e},expression:"contents"}})],1)],1),t._v(" "),i("el-form",{ref:"form3",staticStyle:{"margin-top":"30px"},attrs:{"label-width":"260px"}},[i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1)},[],!1,null,"53aa50e5",null);o.options.__file="activeInfo.vue";e.default=o.exports},waou:function(t,e,i){},ymdI:function(t,e,i){}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ec6d"],{"7IOW":function(t,e,i){"use strict";var s=i("x1PR");i.n(s).a},Q0HA:function(t,e,i){"use strict";var s=i("kB/B");i.n(s).a},"kB/B":function(t,e,i){},vv44:function(t,e,i){"use strict";i.r(e);var s=i("gDS+"),l=i.n(s),n=i("xKIC"),r=i("UMyc"),a={name:"QuestionEdit",components:{DndList:n.a},data:function(){return{path:"question",listQuery:"",sortOptions:[{label:"单选题",key:1},{label:"简答题",key:3}],bEdit:!1,form:{answer:[{value:"",key:1},{value:"",key:2},{value:"",key:3},{value:"",key:4}],title:"",tab:"",type:1,true_answer:1,id:0,desc:""},formRules:{title:[{required:!0,message:"请输入题目内容",trigger:"blur"}],tab:[{required:!0,message:"请输入标记内容",trigger:"change"}]}}},mounted:function(){this.bEdit="0"!==this.$route.params.id,this.bEdit&&this.getInfos(this.$route.params.id)},methods:{getInfos:function(t){var e=this;this.listLoading=!0,Object(r.g)(this.path,{id:t}).then(function(t){e.form=t.data.datas,console.log(t),e.$message(t.data.info),e.listLoading=!1})},removeDomain:function(t){var e=this.form.answer.indexOf(t);-1!==e&&this.form.answer.splice(e,1)},addOptions:function(){this.form.answer.push({value:"",key:this.form.answer.length+1})},handleFilter:function(){1===this.form.type&&(this.form.true_answer=1),2===this.form.type&&(this.form.true_answer=[1,2])},addQst:function(){var t=this;this.listLoading=!0,Object(r.a)(this.path,this.form).then(function(e){t.total=e.data.total,t.list=e.data.datas,t.listLoading=!1,t.$store.dispatch("delView",t.$route),t.$router.replace("/college/question"),sessionStorage.setItem("refresh",l()(1)),t.$message(e.data.info)})},onSubmit:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.addQst()}),this.$message("submit!"),console.log(this.form)},onCancel:function(){this.$message({message:"cancel!",type:"warning"})}}},o=(i("7IOW"),i("KHd+")),u=Object(o.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.formRules,"label-width":"260px"}},[i("el-form-item",{attrs:{label:"题目",prop:"title"}},[i("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"标记",prop:"tab"}},[i("el-input",{model:{value:t.form.tab,callback:function(e){t.$set(t.form,"tab",e)},expression:"form.tab"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"题目类型"}},[i("el-select",{staticClass:"filter-item",staticStyle:{width:"140px"},on:{change:t.handleFilter},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.sortOptions,function(t){return i("el-option",{key:t.key,attrs:{label:t.label,value:t.key}})}))],1),t._v(" "),2==t.form.type?i("el-checkbox-group",{model:{value:t.form.true_answer,callback:function(e){t.$set(t.form,"true_answer",e)},expression:"form.true_answer"}},t._l(t.form.answer,function(e,s){return i("el-form-item",{key:e.key,attrs:{label:"选项"+(s+1),prop:"answer."+s+".value",rules:{required:!0,message:"选项内容不能为空",trigger:"blur"}}},[i("el-input",{staticStyle:{width:"500px"},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"domain.value"}}),t._v(" "),i("el-checkbox",{attrs:{label:s+1}},[t._v("答案")]),t._v(" "),i("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(i){i.preventDefault(),t.removeDomain(e)}}})],1)})):t._e(),t._v(" "),1==t.form.type?i("el-radio-group",{model:{value:t.form.true_answer,callback:function(e){t.$set(t.form,"true_answer",e)},expression:"form.true_answer"}},t._l(t.form.answer,function(e,s){return i("el-form-item",{key:e.key,attrs:{label:"选项"+(s+1),prop:"answer."+s+".value",rules:{required:!0,message:"选项内容不能为空",trigger:"blur"}}},[i("el-input",{staticStyle:{width:"500px"},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"domain.value"}}),t._v(" "),i("el-radio",{attrs:{label:s+1}},[t._v("答案")]),t._v(" "),i("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"danger",size:"small",icon:"el-icon-delete"},on:{click:function(i){i.preventDefault(),t.removeDomain(e)}}})],1)})):t._e(),t._v(" "),i("el-form-item",{attrs:{rules:{required:!0,message:"解析不能为空",trigger:"blur"},label:"解析（100字内）",prop:"desc"}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.form.desc,callback:function(e){t.$set(t.form,"desc",e)},expression:"form.desc"}})],1),t._v(" "),3!==t.form.type?i("el-form-item",[i("el-button",{attrs:{type:"success"},on:{click:t.addOptions}},[t._v("添加选项")])],1):t._e(),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")])],1)],1)],1)},[],!1,null,"229454b8",null);u.options.__file="options.vue";e.default=u.exports},x1PR:function(t,e,i){},xKIC:function(t,e,i){"use strict";var s=i("FyfS"),l=i.n(s),n={name:"DndList",props:{list1:{type:Array,default:function(){return[{title:"",id:1}]}},list2:{type:Array,default:function(){return[{title:"",id:6}]}},list1Title:{type:String,default:"list1"},list2Title:{type:String,default:"list2"},kind:{type:Number,default:1},width1:{type:String,default:"48%"},width2:{type:String,default:"48%"}},computed:{filterList2:function(){var t=this;return this.list2.filter(function(e){return!!t.isNotInList1(e)&&e})}},methods:{isNotInList1:function(t){return this.list1.every(function(e){return t.id!==e.id})},isNotInList2:function(t){return this.list2.every(function(e){return t.id!==e.id})},deleteEle:function(t){var e=!0,i=!1,s=void 0;try{for(var n,r=l()(this.list1);!(e=(n=r.next()).done);e=!0){var a=n.value;if(a.id===t.id){var o=this.list1.indexOf(a);this.list1.splice(o,1);break}}}catch(t){i=!0,s=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw s}}this.isNotInList2(t)&&this.list2.unshift(t)},pushEle:function(t){this.list1.push(t),this.$emit("dndList",this.list1)}}},r=(i("Q0HA"),i("KHd+")),a=Object(r.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dndList"},[i("div",{staticClass:"dndList-list",style:{width:t.width1}},[i("h3",[t._v(t._s(t.list1Title))]),t._v(" "),t._l(t.list1,function(e){return i("div",{key:e.id,staticClass:"list-complete-item"},[i("div",{staticClass:"list-complete-item-handle"},[t._v(t._s(1===t.kind?e.title:e.nickname))]),t._v(" "),i("div",{staticStyle:{position:"absolute",right:"0px"}},[i("span",{staticStyle:{float:"right","margin-top":"-35px","margin-right":"5px"},on:{click:function(i){t.deleteEle(e)}}},[i("i",{staticClass:"el-icon-delete",staticStyle:{color:"#ff4949"}})])])])})],2),t._v(" "),i("div",{staticClass:"dndList-list",style:{width:t.width2}},[i("h3",[t._v(t._s(t.list2Title))]),t._v(" "),t._l(t.filterList2,function(e){return i("div",{key:e.id,staticClass:"list-complete-item"},[i("div",{staticClass:"list-complete-item-handle2",on:{click:function(i){t.pushEle(e)}}},[t._v(t._s(1===t.kind?e.title:e.nickname))])])})],2)])},[],!1,null,"48c360d8",null);a.options.__file="index.vue";e.a=a.exports}}]);
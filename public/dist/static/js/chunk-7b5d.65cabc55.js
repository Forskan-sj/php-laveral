(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7b5d"],{"/yXQ":function(t,e,i){"use strict";var s=i("gDS+"),n=i.n(s),a={name:"UpLoad",props:{index:{required:!0,type:Number},type:{required:!0,type:Number},filelists:{required:!1,type:Array,default:function(){return[]}},singlePic:{required:!1,type:String,default:null},ossparas:{required:!0,type:Object}},data:function(){return{btnText:"点击上传",dialogImageUrl:"",alignSelf:{margin:"83px 0 0 30px"},dialogVisible:!1,fileStorage:[],ossKey:{},mediaDuration:-1,resLoaded:!1,showV:!1,vsource:"",imageUrl:"",fileType:["audio/mp3","video/mp4","image/jpeg,image/png","image/jpeg,image/png"]}},computed:{},updated:function(){if(this.resLoaded){this.resLoaded=!1;var t=document.getElementById("video-active"+this.index),e=this;t.onloadedmetadata=function(){e.$emit("uploadSucess",{mediaDuration:t.duration,index:e.index,type:e.type,res_url:null})}}},mounted:function(){this.ossKey=JSON.parse(n()(this.ossparas)),3===this.type&&null!=this.singlePic&&(this.imageUrl=this.singlePic,this.btnText="替换"),1!==this.type&&0!==this.type||null===this.singlePic||(this.vsource=this.singlePic,this.showV=!0,this.resLoaded=!0,this.btnText="替换")},methods:{handleRemove:function(t,e){var i=this,s=[];e.forEach(function(t,e,n){s.push(i.ossparas.key+"data"+t.uid+"."+t.name.split(".")[t.name.split(".").length-1])}),this.$emit("uploadSucess",{mediaDuration:this.mediaDuration,index:this.index,type:this.type,res_url:s})},handleAvatarSuccess:function(t,e,i){var s=this;if(console.log(e,i),this.$refs.upload.submit(),this.fileStorage=i,2!==this.type){this.btnText="替换",this.fileStorage=[e];var n=this.ossparas.key+"data"+e.uid+"."+e.name.split(".")[e.name.split(".").length-1];this.$emit("uploadSucess",{mediaDuration:this.mediaDuration,index:this.index,type:this.type,res_url:n})}if(3===this.type&&(this.imageUrl=this.ossparas.host+"/"+this.ossparas.key+"data"+e.uid+"."+e.name.split(".")[e.name.split(".").length-1]),2!==this.type&&3!==this.type&&(this.showV=!0,this.resLoaded=!0),2===this.type){var a=!0,o=[];i.forEach(function(t,e,i){"success"===t.status?o.push(s.ossparas.key+"data"+t.uid+"."+t.name.split(".")[t.name.split(".").length-1]):(a=!1,o=[])}),a&&this.$emit("uploadSucess",{mediaDuration:this.mediaDuration,index:this.index,type:this.type,res_url:o})}},beforeAvatarUpload:function(t){2!==this.type&&(this.showV=!1);var e=this.ossparas.key+"data"+t.uid+"."+t.name.split(".")[t.name.split(".").length-1];this.ossKey.key=e,this.vsource=this.ossparas.host+"/"+this.ossKey.key},handlePictureCardPreview:function(t){this.dialogImageUrl=1===t?this.imageUrl:t.url,this.dialogVisible=!0}}},o=(i("OXd6"),i("Z36Z"),i("KHd+")),l=Object(o.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dndList"},[t.imageUrl?i("img",{staticClass:"avatar",staticStyle:{float:"left"},attrs:{src:t.imageUrl},on:{click:function(e){t.handlePictureCardPreview(1)}}}):t._e(),t._v(" "),t.showV?i("video",{staticClass:"video-active",attrs:{id:"video-active"+t.index,width:"320",height:"200",controls:"controls"}},[i("source",{attrs:{src:t.vsource,type:"video/mp4"}})]):t._e(),t._v(" "),i("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{"show-file-list":2==t.type,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload,"on-remove":t.handleRemove,"on-preview":t.handlePictureCardPreview,data:t.ossKey,multiple:2==t.type,accept:t.fileType[t.type],action:t.ossparas.host,"file-list":t.filelists,"list-type":2==t.type?"picture-card":""}},[2==t.type?i("i",{staticClass:"el-icon-plus"}):t._e(),t._v(" "),2!==t.type?i("el-button",{style:3!=t.type||null==t.singlePic&&!t.imageUrl?"":t.alignSelf,attrs:{size:"small",type:"success"},domProps:{textContent:t._s(t.btnText)}}):t._e()],1),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("img",{attrs:{src:t.dialogImageUrl,width:"100%",alt:""}})])],1)},[],!1,null,"0a979296",null);l.options.__file="index.vue";e.a=l.exports},"8Jck":function(t,e,i){"use strict";var s=i("gipQ");i.n(s).a},FlHk:function(t,e,i){},LNG7:function(t,e,i){"use strict";var s=i("VFhN");i.n(s).a},Ms9V:function(t,e,i){},Muo0:function(t,e,i){"use strict";var s={name:"UpLoad",props:{index:{required:!0,type:Number},qst_id:{type:Number,default:-1},qstList:{required:!0,type:Array,default:function(){return[{title:"",id:6}]}}},data:function(){return{chooseItem:{},qstId:-1}},computed:{},updated:function(){},mounted:function(){var t=this;-1!==this.qst_id&&(this.chooseItem=this.qstList.filter(function(e){return e.id===t.qst_id})[0],this.qstId=this.qst_id)},methods:{chooseThis:function(t){this.chooseItem=this.qstList[t],this.qstId=this.chooseItem.id},subSel:function(){this.$emit("choose",{index:this.index,chooseItem:this.chooseItem})}}},n=(i("8Jck"),i("KHd+")),a=Object(n.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"queList"},[i("div",{staticClass:"title"},[t._v("点击左侧列表选择题目")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"list"},[i("div",{staticClass:"titleName"},[t._v("题目列表")]),t._v(" "),t._l(t.qstList,function(e,s){return i("div",{key:s,staticClass:"item",class:{chooseItem:e.id===t.qstId},on:{click:function(e){t.chooseThis(s)}}},[t._v(t._s(e.id+"."+e.title+"("+e.tab+")"))])})],2),t._v(" "),i("div",{staticClass:"sel"},[i("div",{staticClass:"titleName"},[t._v("已选择题目")]),t._v(" "),i("div",{staticClass:"item"},[t._v(t._s(t.chooseItem.id+"."+t.chooseItem.title))])])]),t._v(" "),i("div",{staticClass:"sub",on:{click:t.subSel}},[t._v("确定选择")])])},[],!1,null,"03091eda",null);a.options.__file="index.vue";e.a=a.exports},OXd6:function(t,e,i){"use strict";var s=i("uDfm");i.n(s).a},Q0HA:function(t,e,i){"use strict";var s=i("kB/B");i.n(s).a},Ufkb:function(t,e,i){"use strict";var s=i("ymdI");i.n(s).a},VFhN:function(t,e,i){},Z36Z:function(t,e,i){"use strict";var s=i("Ms9V");i.n(s).a},fx4B:function(t,e,i){"use strict";var s=i("FlHk");i.n(s).a},gipQ:function(t,e,i){},glbJ:function(t,e,i){"use strict";var s=i("gDS+"),n=i.n(s),a=i("UMyc"),o={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{ossKey:{},ossParams:{},ulParamsMark:!1,dialogVisible:!1,listObj:{},fileList:[],img_list:[],listLoading:!1}},mounted:function(){var t=this;this.listLoading=!0,Object(a.j)({type:"dev_test_dcaredata"}).then(function(e){t.ossParams=e.data.datas,t.ossKey=JSON.parse(n()(t.ossParams)),t.ulParamsMark=!0,t.listLoading=!1})},methods:{checkAllSuccess:function(){var t=this,e=!0,i=[];return this.listObj.forEach(function(s,n,a){"success"===s.status?i.push(t.ossParams.host+"/"+t.ossParams.key+"data"+s.uid+"."+s.name.split(".")[1]):(e=!1,i=[])}),this.img_list=i,!!e},handleSubmit:function(){this.checkAllSuccess()?(this.$emit("successCBK",this.img_list),this.listObj=[],this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！")},handleSuccess:function(t,e,i){this.$refs.upload.submit(),this.listObj=i},handleRemove:function(t,e){var i=this;this.listObj=[],e.forEach(function(t,e,s){i.listObj.push(i.ossparas.key+"data"+t.uid+"."+t.name.split(".")[1])})},beforeUpload:function(t){var e=this.ossParams.key+"data"+t.uid+"."+t.name.split(".")[1];this.ossKey.key=e}}},l=(i("Ufkb"),i("KHd+")),r=Object(l.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("上传图片\n  ")]),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[t.ulParamsMark?i("el-upload",{ref:"upload",staticClass:"editor-slide-upload",attrs:{multiple:!0,data:t.ossKey,"file-list":t.fileList,"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload,action:t.ossParams.host,"list-type":"picture-card"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1):t._e(),t._v(" "),i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],1)},[],!1,null,"55611ce8",null);r.options.__file="editorImage.vue";var c=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],d=["searchreplace bold italic underline strikethrough alignleft aligncenter alignjustify alignright outdent indent  blockquote undo redo subscript superscript code codesample","hr bullist numlist link image charmap preview insertdatetime font_formats fontsizeselect fontselect media table emoticons forecolor backcolor fullscreen"],u={name:"Tinymce",components:{editorImage:r.exports},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(e.tinymceId).setContent(t||"")})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){var t=this,e=this;window.tinymce.init({language:this.languageTypeList.zh,selector:"#"+this.tinymceId,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:d,toolbar_drawer:"floating",menubar:this.menubar,fontsize_formats:"11px 12px 14px 16px 18px 24px 36px 48px",font_formats:"Arial=arial,helvetica,sans-serif; Courier New=courier new,courier,monospace; AkrutiKndPadmini=Akpdmi-n",plugins:c,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(i){e.value&&i.setContent(e.value),e.hasInit=!0,i.on("NodeChange Change KeyUp SetContent",function(){t.hasChange=!0,t.$emit("input",i.getContent())})},setup:function(t){t.on("FullscreenStateChanged",function(t){e.fullscreen=t.state})}})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach(function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'+t+'" >')})}}},h=(i("LNG7"),i("fx4B"),Object(l.a)(u,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:this.fullscreen}},[e("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}}),this._v(" "),e("div",{staticClass:"editor-custom-btn-container"},[e("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:this.imageSuccessCBK}})],1)])},[],!1,null,"5aea5b52",null));h.options.__file="index.vue";e.a=h.exports},"kB/B":function(t,e,i){},uDfm:function(t,e,i){},xKIC:function(t,e,i){"use strict";var s=i("FyfS"),n=i.n(s),a={name:"DndList",props:{list1:{type:Array,default:function(){return[{title:"",id:1}]}},list2:{type:Array,default:function(){return[{title:"",id:6}]}},list1Title:{type:String,default:"list1"},list2Title:{type:String,default:"list2"},kind:{type:Number,default:1},width1:{type:String,default:"48%"},width2:{type:String,default:"48%"}},computed:{filterList2:function(){var t=this;return this.list2.filter(function(e){return!!t.isNotInList1(e)&&e})}},methods:{isNotInList1:function(t){return this.list1.every(function(e){return t.id!==e.id})},isNotInList2:function(t){return this.list2.every(function(e){return t.id!==e.id})},deleteEle:function(t){var e=!0,i=!1,s=void 0;try{for(var a,o=n()(this.list1);!(e=(a=o.next()).done);e=!0){var l=a.value;if(l.id===t.id){var r=this.list1.indexOf(l);this.list1.splice(r,1);break}}}catch(t){i=!0,s=t}finally{try{!e&&o.return&&o.return()}finally{if(i)throw s}}this.isNotInList2(t)&&this.list2.unshift(t)},pushEle:function(t){this.list1.push(t),this.$emit("dndList",this.list1)}}},o=(i("Q0HA"),i("KHd+")),l=Object(o.a)(a,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dndList"},[i("div",{staticClass:"dndList-list",style:{width:t.width1}},[i("h3",[t._v(t._s(t.list1Title))]),t._v(" "),t._l(t.list1,function(e){return i("div",{key:e.id,staticClass:"list-complete-item"},[i("div",{staticClass:"list-complete-item-handle"},[t._v(t._s(1===t.kind?e.title:e.nickname))]),t._v(" "),i("div",{staticStyle:{position:"absolute",right:"0px"}},[i("span",{staticStyle:{float:"right","margin-top":"-35px","margin-right":"5px"},on:{click:function(i){t.deleteEle(e)}}},[i("i",{staticClass:"el-icon-delete",staticStyle:{color:"#ff4949"}})])])])})],2),t._v(" "),i("div",{staticClass:"dndList-list",style:{width:t.width2}},[i("h3",[t._v(t._s(t.list2Title))]),t._v(" "),t._l(t.filterList2,function(e){return i("div",{key:e.id,staticClass:"list-complete-item"},[i("div",{staticClass:"list-complete-item-handle2",on:{click:function(i){t.pushEle(e)}}},[t._v(t._s(1===t.kind?e.title:e.nickname))])])})],2)])},[],!1,null,"48c360d8",null);l.options.__file="index.vue";e.a=l.exports},ymdI:function(t,e,i){}}]);